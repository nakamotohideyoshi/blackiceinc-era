<style type="text/css">
    .smart-form > tbody > tr > td {
        padding: 0px;
        border-top: none;
    }

    .lb {
        position: relative;
        display: inline-block;
        padding-right: 5px;
        width: 90px;
        text-align: right;
        padding-bottom: 5px;
    }

    .fm {
        position: relative;
        display: inline-block;
        padding-bottom: 5px;
        width: 130px;
    }

    .gridStyle {
        border: 1px solid rgb(212, 212, 212);
        width: 100%;
        height: 600px
    }

    thead > tr > th {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .wrapper.small {
        height: 550px;
        /*width: 500px;*/
        border: 1px solid #ccc;

    }

    .wrapper {
        overflow: auto;
        position: relative;
    }

    .wrapper table.table td {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .color-01, .table-striped > tbody > tr:nth-child(odd) > td.color-01, .table-striped > tbody > tr:nth-child(odd) > th.color-01 {
        background: rgb(236, 255, 240);
    }

    .color-02, .table-striped > tbody > tr:nth-child(odd) > td.color-01, .table-striped > tbody > tr:nth-child(odd) > th.color-01 {
        background: rgb(217, 249, 224);
    }

    .color-03, .table-striped > tbody > tr:nth-child(odd) > td.color-01, .table-striped > tbody > tr:nth-child(odd) > th.color-01 {
        background: rgb(217, 249, 224);
    }

    .table-header-popover {
        position: fixed;
        top: 100px;
        left: 100px;
    }

    tr th .fa.fa-question {
        float: right;
        padding-top: 5px;
        font-size: 10px;
    }

</style>
<!-- widget grid -->
<section id="widget-grid" class="">
    <div class="row">
        <div class="col-md-12" style="margin-bottom: 20px;">
            <div class="table-responsive">
                <table class="table  smart-form">
                    <tbody>
                    <tr>
                        <td>
                            <div class="lb">Snapshot Date</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.snapshotDate }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.snapshotDate"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.snapshotDate">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Load Job Nbr</div>
                            <div class="fm">
                                <label class="select" ng-class="{ 'has-success' : Filter.filterSelection.loadJobNbr }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.loadJobNbr"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.loadJobNbr">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Scenario ID</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.scenarioId }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.scenarioId" ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.scenarioId">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Industry</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.industry }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.industry"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.industry">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Profit Centre</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.profitCentre }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.profitCentre"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.profitCentre">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="lb">Asset Class</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.assetClass }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.assetClass"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.assetClass">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Exposure Type</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.exposureType }">
                                    <select class="form-control input-sm"
                                            data-ng-model="Filter.filterSelection.exposureType"
                                            data-ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.exposureType">
                                        <option value="">All</option>
                                    </select><i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Entity Type</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.entityType }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.entityType" ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.entityType">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb">Product Type</div>
                            <div class="fm">
                                <label class="select"
                                       ng-class="{ 'has-success' : Filter.filterSelection.productType }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.productType" ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterOptions.productType">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td>
                        <td>
                            <div class="lb" style="margin-top: 5px;'">Risk Rating</div>
                            <div class="fm" style="position: absolute; margin-left: 5px;">
                                <label class="select" style="width: 54px; float: left"
                                       ng-class="{ 'has-success' : Filter.filterSelection.riskRatingFrom }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.riskRatingFrom"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterStaticOptions.riskRating">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                                <label class="select"
                                       style="width: 14px; float: left; margin-left: 7px; margin-top: 5px;"> - </label>
                                <label class="select" style="width: 54px; float: left"
                                       ng-class="{ 'has-success' : Filter.filterSelection.riskRatingTo }">
                                    <select class="form-control input-sm"
                                            ng-model="Filter.filterSelection.riskRatingTo"
                                            ng-change="FilterTable()"
                                            ng-options="o for o in Filter.filterStaticOptions.riskRating">
                                        <option value="">All</option>
                                    </select> <i></i>
                                </label>
                            </div>
                        </td> <!---->
                    </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row" style="margin-bottom:10px">


        <div class="col-md-6" style="margin-top: 30px">
            <button type="submit" ng-click="filterTable()" class="btn btn-primary btn-sm"><i class="fa fa-search"></i>
                Search
            </button>
            <a class="btn btn-default btn-sm" href="javascript:void(0);" ng-click="resetFilter()">
                <i class="fa fa-refresh"></i> Reset</a>
            <a href="" ng-click="saveToBookmark()" class="btn btn-default btn-sm"
               ng-class="{'disabled' : isEmpty(QueryParams) }">
                <i class="fa fa-save"></i> Save to Bookmark </a>
            <a href="" ng-click="OpenModal()" class="btn btn-default btn-sm">
                <i class="glyphicon glyphicon-bookmark"></i> Open Bookmarks </a>
            <a href="javascript:void(0);" ng-click="GenerateReport()" class="btn btn-default btn-sm ">
                <i class="fa  fa-file-pdf-o"></i> Graphs </a>
        </div>

        <div class="col-md-6">
            <table class="table table-bordered pull-right" style="width: 375px;">
                <thead>
                <tr>
                    <td style="width:110px;padding: 5px 6px;font-weight: bold;">O/S Bal</td>
                    <td style="width:110px;padding: 5px 6px;font-weight: bold;">RWA Amt</td>
                    <td style="width:155px;padding: 5px 6px;font-weight: bold;">Reg Cap</td>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td class="color-01" style="width:110px;padding: 5px 6px;">{{ (TotalSum.notionalTotal |number:0)||
                        'n/a
                        '}}
                    </td>
                    <td class="color-01" style="width:110px;padding: 5px 6px;">{{ (TotalSum.rcAndEcTotal
                        |number:0)||'n/a
                        '}}
                    </td>
                    <td class="color-01" style="width:155px;padding: 5px 6px;">{{ (TotalSum.expectedLossTotal|number:0)
                        ||'
                        n/a '}}
                    </td>
                </tr>
                </tbody>
            </table>

        </div>

    </div>

    <!-- GRID -->
    <div class="row">
        <div class="col-md-12 dataTables_wrapper">

            <div class="dt-toolbar no-padding">
                <div class="spinner-indicator" ng-if="loading" style="display:block;">
                    <div class="v-loading-indicator second v-loading-indicator-delay"></div>
                </div>
            </div>

            <div class="dt-toolbar no-padding">
                <div class="spinner-indicator" ng-if="CreditRisk.list.length==0"
                     style="display:block;">
                    <div class="empty-text">No data Found</div>
                </div>
            </div>

            <div class="wrapper small ">
                <table ng-float-head
                       class="table table-bordered table-striped  table-hover  sortable"
                       style="min-width: 0px; border: none; table-layout: auto;">
                    <colgroup>
                        <col style="width: 10%">
                        <!-- Snapshot Date -->
                        <col style="width: 10%">
                        <!-- Asset Class -->
                        <col style="width: 10%">
                        <!-- Exposure Type -->
                        <col style="width: 10%">
                        <!-- Customer -->
                        <col style="width: 10%">
                        <!-- Entity Type -->
                        <col style="width: 10%">
                        <!-- Product Type -->
                        <col style="width: 10%">
                        <!-- Risk Weight -->
                        <col style="width: 10%">
                        <!-- O/S Bal -->
                        <col style="width: 10%">
                        <!-- RWA Amt -->
                        <col style="width: 10%">
                        <!-- Reg Cap -->
                        <col style="width: 10%">
                        <!-- Load Job Nbr   -->
                        <col style="width: 10%">
                        <!-- Scenario ID -->
                        <col style="width: 10%">
                    </colgroup>
                    <thead>
                    <tr>
                        <!-- <th class="">ID</th> -->
                        <th class="" style="border-left: none;">Snapshot Date</th>
                        <th class="">Asset Class</th>
                        <th class="">Exposure Type</th>

                        <th class="">Customer</th>

                        <th class="">Entity Type</th>
                        <th class="">Product Type</th>
                        <th class="">Risk Weight</th>

                        <th class="color-01">O/S Bal</th>
                        <th class="color-01">RWA Amt</th>
                        <th class="color-01">Reg Cap</th>

                        <th class="">Load Job Nbr</th>
                        <th class="">Scenario ID</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="row in CreditRisk.list">
                        <td>{{ row.snapshotDate }}</td>
                        <td>{{ row.assetClassFinal }}</td>
                        <td>{{ row.exposureTypeCode }}</td>

                        <td>Customer fixed</td>

                        <td>{{ row.eraEntityType }}</td>
                        <td>{{ row.eraProductTypeFinal }}</td>
                        <td>{{ row.riskWeightFinal }}</td>
                        <td class="color-01">{{ row.eadBeforeCcfLcyAmt }}</td>
                        <td class="color-01">{{ row.rwaAmt }}</td>
                        <td class="color-01">{{ row.regCap }}</td>
                        <td>{{ row.loadJobNbr }}</td>
                        <td>{{ row.scenarioId }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- GRID END -->

    <!-- Pagination -->
    <div class="ngFooterPanel"
         ng-class="{'ui-widget-content': jqueryUITheme, 'ui-corner-bottom': jqueryUITheme}"
         ng-style="footerStyle()" style="height: 57px;">
        <div class="ngTotalSelectContainer">
            <div class="ngFooterTotalItems ngNoMultiSelect"
                 ng-class="{'ngNoMultiSelect': !multiSelect}">
                <span class="ngLabel">Total Items: {{ CreditRisk.totalElements }}</span><span
                    ng-show="filterText.length > 0" class="ngLabel ng-hide">(Showing Items: 25)</span>
            </div>
        </div>

        <div class="ngPagerContainer ngNoMultiSelect" style="float: right; margin-top: 10px;"
             ng-class="{'ngNoMultiSelect': !multiSelect}">
            <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">
                <span style="float: left; margin-top: 3px;" class="ngLabel">Page Size:</span>
                <select style="float: left;height: 27px; width: 100px" ng-model="pageLength">
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="250">250</option>
                    <option value="500">500</option>
                    <option value="1000">1000</option>
                </select>
            </div>
            <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl">
                <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()"
                        title="First Page" disabled="disabled">
                    <div class="ngPagerFirstTriangle">
                        <div class="ngPagerFirstBar"></div>
                    </div>
                </button>

                <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()"
                        title="Previous Page" disabled="disabled">
                    <div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div>
                </button>

                <input class="ngPagerCurrent" min="1" max="537" type="number"
                       style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;"
                       ng-model="currentPage">
                <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{ CreditRisk.totalPages }} </span>

                <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()"
                        title="Next Page">
                    <div class="ngPagerLastTriangle ngPagerNextTriangle"></div>
                </button>

                <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()"
                        title="Last Page">
                    <div class="ngPagerLastTriangle">
                        <div class="ngPagerLastBar"></div>
                    </div>
                </button>
            </div>
        </div>
    </div>
    <!-- Pagination END -->

</section>

<script type="text/javascript">
    hieghtResize();
    pageSetUp();

    function hieghtResize() {
        // fix table height
        tableHeightSize();
        $(window).resize(function () {
            tableHeightSize()
        });
        function tableHeightSize() {
            var tableHeight = $(window).height() - 350;
            if (tableHeight < 320) {
                $('.dataTables_wrapper .wrapper').css('height', 320 + 'px');
            } else {
                $('.dataTables_wrapper .wrapper').css('height', tableHeight + 'px');
            }
        }
    }

</script> 